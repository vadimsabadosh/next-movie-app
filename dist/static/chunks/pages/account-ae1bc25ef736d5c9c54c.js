(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{8070:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var i=n(7294),a=n(5861),s=n(7757),c=n.n(s),l=n(5427),_=n.n(l),r=n(117),o=n(9411),u=n(9023),d=n(4942),v=n(1163),m=n(5893);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var h=function(e){return function(t){var n=(0,u.aC)().state,s=(0,v.useRouter)();return(0,i.useEffect)((function(){(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&void 0!==n&&n.user){e.next=3;break}return e.next=3,s.push("/");case 3:case"end":return e.stop()}}),e)})))()}),[null===n||void 0===n?void 0:n.user]),(0,m.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}},x=n(570),j=n(6395),f=n(5573);(0,r.xb)();var b=[{label:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},{label:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"},{label:"\u0425\u043e\u0447\u0443 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}],N=function(e){var t=e.id,n=(0,x.a)(j.h8,{variables:{id:t}}),i=n.data,a=n.loading;return(0,m.jsxs)("div",{className:_().panel,children:[(0,m.jsx)("h3",{className:_().panel__title,children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),a?(0,m.jsx)("div",{className:_().panel__preloader,children:(0,m.jsx)(f.Z,{size:"big"})}):(0,m.jsx)(o.Z,{movies:null===i||void 0===i?void 0:i.getUserWatchedMovies})]})},g=function(e){var t=e.id,n=(0,x.a)(j.wq,{variables:{id:t}}),i=n.data,a=n.loading;return(0,m.jsxs)("div",{className:_().panel,children:[(0,m.jsx)("h3",{className:_().panel__title,children:"\u0425\u043e\u0447\u0443 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}),a?(0,m.jsx)("div",{className:_().panel__preloader,children:(0,m.jsx)(f.Z,{size:"big"})}):(0,m.jsx)(o.Z,{movies:null===i||void 0===i?void 0:i.getUserWantToWatchMovies})]})},y=function(e){var t=e.user;return(0,m.jsxs)("div",{className:_().panel,children:[(0,m.jsx)("h3",{className:_().panel__title,"data-cy":"account-title",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,m.jsxs)("div",{className:_().panel__item,children:[(0,m.jsx)("div",{className:_().panel__name,children:"\u0418\u043c\u044f:"}),(0,m.jsx)("div",{className:_().panel__value,children:null===t||void 0===t?void 0:t.firstName})]}),(0,m.jsxs)("div",{className:_().panel__item,children:[(0,m.jsx)("div",{className:_().panel__name,children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"}),(0,m.jsx)("div",{className:_().panel__value,children:null===t||void 0===t?void 0:t.lastName})]}),(0,m.jsxs)("div",{className:_().panel__item,children:[(0,m.jsx)("div",{className:_().panel__name,children:"\u041f\u043e\u0447\u0442\u0430:"}),(0,m.jsx)("div",{className:_().panel__value,children:null===t||void 0===t?void 0:t.email})]})]})},w=h((function(){var e=(0,u.aC)(),t=e.state,n=e.logout,i=t.user,s=(0,v.useRouter)(),l=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.next=3,s.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("div",{className:_().account,children:(0,m.jsxs)(r.mQ,{className:_().tabs,selectedTabClassName:_().tabActive,selectedTabPanelClassName:_().tab__panelActive,children:[(0,m.jsxs)(r.td,{className:_().tab__left,children:[(0,m.jsx)("div",{className:_().tab__list,children:b.map((function(e){return(0,m.jsx)(r.OK,{className:_().tab,children:e.label},e.label)}))}),(0,m.jsx)("button",{className:_().account__logout,onClick:l,children:"\u0412\u044b\u0439\u0442\u0438"})]}),(0,m.jsx)(r.x4,{className:_().tab__panel,children:(0,m.jsx)(y,{user:i})}),(0,m.jsx)(r.x4,{className:_().tab__panel,children:(0,m.jsx)(N,{id:null===i||void 0===i?void 0:i.id})}),(0,m.jsx)(r.x4,{className:_().tab__panel,children:(0,m.jsx)(g,{id:null===i||void 0===i?void 0:i.id})})]})})})})),M=n(9008),A=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(M.default,{children:(0,m.jsx)("title",{children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})}),(0,m.jsx)(w,{})]})}},9411:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});n(7294);var i=n(1664),a=n(7557),s=n.n(a),c=n(9723),l=n(5893),_=function(e){var t=e.movies;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:s().movie__list,children:[!t.length&&(0,l.jsxs)("div",{className:s().movie__empty,children:[(0,l.jsx)("img",{src:"/images/empty.png",alt:""}),(0,l.jsx)("p",{className:s().movie__empty_text,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"})]}),null===t||void 0===t?void 0:t.map((function(e){return(0,l.jsxs)("div",{className:s().movie__item,children:[(0,l.jsx)(i.default,{href:"/movies/".concat(e.id),children:(0,l.jsx)("a",{children:(0,l.jsx)("img",{src:c.a.IMAGE_LINK+e.poster_path,alt:e.original_title,title:e.title,className:s().movie__image})})}),(0,l.jsx)("div",{className:s().movie__descriptionBlock,children:(0,l.jsx)("h4",{className:s().movie__title,children:e.title})})]},e.id)}))]})})}},6395:function(e,t,n){"use strict";n.d(t,{h8:function(){return o},wq:function(){return u}});var i,a,s,c,l=n(168),_=n(4397),r=n(3804),o=((0,_.Ps)(i||(i=(0,l.Z)(["\n\tquery getAllMovies {\n\t\tgetAllMovies {\n\t\t\t...Movie\n\t\t}\n\t}\n\t","\n"])),r.w),(0,_.Ps)(a||(a=(0,l.Z)(["\n\tquery getMovie($id: ID!) {\n\t\tgetMovie(id: $id) {\n\t\t\t...Movie\n\t\t}\n\t}\n\t","\n"])),r.w),(0,_.Ps)(s||(s=(0,l.Z)(["\n\tquery getUserWatchedMovies($id: ID!) {\n\t\tgetUserWatchedMovies(id: $id) {\n\t\t\t...Movie\n\t\t}\n\t}\n\t","\n"])),r.w)),u=(0,_.Ps)(c||(c=(0,l.Z)(["\n\tquery getUserWantToWatchMovies($id: ID!) {\n\t\tgetUserWantToWatchMovies(id: $id) {\n\t\t\t...Movie\n\t\t}\n\t}\n\t","\n"])),r.w)},9723:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var i={IMAGE_LINK:"https://image.tmdb.org/t/p/w300/"}},431:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return n(8070)}])},7557:function(e){e.exports={movie__list:"MovieList_movie__list__3u2Vb",movie__item:"MovieList_movie__item__zzOvx",movie__image:"MovieList_movie__image__2jJW-",movie__title:"MovieList_movie__title__3UZk_",movie__descriptionBlock:"MovieList_movie__descriptionBlock__crT5y",movie__empty:"MovieList_movie__empty__3HiGa",movie__empty_text:"MovieList_movie__empty_text__1NRty"}},5427:function(e){e.exports={account:"Account_account__y9gt1",account__logout:"Account_account__logout__16lD_",tabs:"Account_tabs__1zvEs",tab:"Account_tab__2NJ1d",tab__left:"Account_tab__left__HSsKL",tab__list:"Account_tab__list__3QBJ4",tabActive:"Account_tabActive__1T1wM",tab__panelActive:"Account_tab__panelActive__IGyyH",panel__title:"Account_panel__title__jL9fx",panel__item:"Account_panel__item__3Jazk",panel__name:"Account_panel__name__HXzJv",panel__value:"Account_panel__value__yyI5E",panel__preloader:"Account_panel__preloader__2QGOk"}}},function(e){e.O(0,[774,288,888,179],(function(){return t=431,e(e.s=t);var t}));var t=e.O();_N_E=t}]);